<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>고재인 | The Private Archive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 디자이너들이 가장 사랑하는 Pretendard 폰트 & Cinzel 조합 */
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap');
        
        :root {
            --bg-color: #F9F8F4;
            --text-main: #1A1A1A;
            --text-sub: #666055;
            --accent-color: #C04A3A;
            --border-color: rgba(0,0,0,0.06);
        }

        body { 
            /* 기본 한글 폰트를 Pretendard로 고정하여 압도적인 깔끔함 제공 */
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0; padding: 0; 
            -webkit-font-smoothing: antialiased;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
        }

        .serif-font { font-family: 'Cinzel', serif; }

        .editorial-card { 
            background: #FFFFFF;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 20px rgba(0,0,0,0.02);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .log-card { animation: slideUpElegant 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards; opacity: 0; }
        @keyframes slideUpElegant { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        input:focus { outline: none; }
        #main-content.hidden { display: none; }

        /* 입력창 폰트 최적화 */
        #msg-input { font-family: 'Pretendard', sans-serif; font-weight: 500; letter-spacing: -0.02em; }
    </style>
</head>
<body class="overflow-hidden">

    <div id="pin-gate" class="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-[#F9F8F4] px-12 text-center">
        <div class="w-full max-w-[280px] border-t border-b border-black/10 py-16 relative">
             <span class="absolute top-[-10px] left-1/2 -translate-x-1/2 bg-[#F9F8F4] px-4 text-[10px] tracking-[0.3em] text-[#666055] serif-font">PRIVATE LOG</span>
            <h2 class="serif-font text-4xl text-[#1A1A1A] mb-10 tracking-wide">고재인</h2>
            <p class="text-[#666055] text-[11px] font-medium mb-12 tracking-[0.2em] leading-relaxed">IDENTIFY YOURSELF</p>
            
            <input type="text" id="pin" maxlength="4" inputmode="numeric"
                class="bg-transparent text-center serif-font text-5xl w-36 py-2 outline-none tracking-[0.4em] border-b border-black/20 focus:border-[#C04A3A] transition-all text-[#1A1A1A] mb-14" 
                placeholder="0000">
            
            <button onclick="unlock()" class="text-[10px] uppercase tracking-[0.5em] text-[#1A1A1A] border border-black/20 px-10 py-4 hover:bg-[#1A1A1A] hover:text-white transition-all duration-500">Access</button>
        </div>
    </div>

    <div id="main-content" class="hidden h-screen max-w-md mx-auto flex flex-col relative overflow-hidden bg-white/50">
        
        <header class="relative z-10 p-10 pt-20 pb-12">
            <div class="border-b-2 border-black/10 pb-8">
                <p class="text-[10px] tracking-[0.5em] text-[#C04A3A] uppercase mb-5 serif-font font-bold">Field Notes</p>
                <h1 class="serif-font text-5xl text-[#1A1A1A] leading-none mb-3">Archive</h1>
                <p class="serif-font text-xl text-[#666055] italic opacity-60">by Koh Jaein</p>
            </div>
        </header>

        <main id="feed" class="relative z-10 flex-1 px-8 space-y-10 pb-64 overflow-y-auto no-scrollbar pt-4">
            </main>

        <footer class="fixed bottom-0 w-full max-w-md z-20 bg-gradient-to-t from-[#F9F8F4] via-[#F9F8F4] to-transparent pt-12 pb-12 px-8">
            <div class="editorial-card rounded-none border-none bg-white shadow-[0_-10px_40px_rgba(0,0,0,0.03)] p-8">
                
                <div class="flex mb-8 border-b border-black/5 pb-5">
                    <button onclick="setRole('PRESS', '#374151', this)" class="role-btn flex-1 text-[10px] tracking-[0.3em] text-[#CCC] transition-all hover:text-[#1A1A1A]">PRESS</button>
                    <button onclick="setRole('PARTNER', '#374151', this)" class="role-btn flex-1 text-[10px] tracking-[0.3em] text-[#CCC] transition-all hover:text-[#1A1A1A]">PARTNER</button>
                    <button onclick="setRole('TEAM', '#374151', this)" class="role-btn flex-1 text-[10px] tracking-[0.3em] text-[#CCC] transition-all hover:text-[#1A1A1A]">TEAM</button>
                </div>

                <div class="relative flex items-end">
                    <input type="text" id="msg-input" 
                        class="w-full bg-transparent py-4 pr-12 text-[16px] text-[#1A1A1A] placeholder-[#DDD] border-b-2 border-black/5 focus:border-[#C04A3A] transition-all rounded-none"
                        placeholder="이니셜 / 장소 / 메시지">
                    <button id="send-btn" onclick="post()" class="absolute right-0 bottom-4 w-10 h-10 flex items-center justify-center hover:opacity-50 transition-all">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#C04A3A" stroke-width="1.2"><path d="M22 2L11 13"/><path d="M22 2L15 22L11 13L2 9L22 2Z"/></svg>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let curRole = ''; const PIN = "2026"; const FORMSPREE_ID = "mgolwdqo"; 

        function unlock() {
            if(document.getElementById('pin').value === PIN) {
                document.getElementById('pin-gate').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('pin-gate').style.display = 'none';
                    document.getElementById('main-content').classList.remove('hidden');
                }, 500);
            } else { alert('인증 실패'); document.getElementById('pin').value = ''; }
        }

        function setRole(role, color, elem) {
            curRole = role;
            document.querySelectorAll('.role-btn').forEach(b => {
                b.style.color = '#CCC'; b.style.fontWeight = 'normal'; b.style.borderBottom = 'none';
            });
            elem.style.color = '#C04A3A'; elem.style.fontWeight = 'bold';
            elem.style.borderBottom = '1px solid #C04A3A';
        }

        function getTimeVibe() {
            if (curRole === 'TEAM') return "Connection";
            const h = new Date().getHours();
            if(h >= 11 && h <= 14) return "Midday";
            if(h >= 17 && h <= 22) return "Evening";
            return "Record";
        }

        async function post() {
            const input = document.getElementById('msg-input');
            if(!input.value || !curRole) return alert('그룹과 내용을 확인하세요.');
            const [ini, loc, txt] = input.value.split('/').map(s => s?.trim());
            if(!txt) return alert('이니셜 / 장소 / 메시지 형식을 지켜주세요.');

            const vibe = getTimeVibe();
            const sendBtn = document.getElementById('send-btn');
            sendBtn.disabled = true;

            const html = `
                <div class="log-card relative pl-10 before:content-[''] before:absolute before:left-0 before:top-2 before:w-[2px] before:h-12 before:bg-[#C04A3A]/60">
                    <div class="flex items-baseline gap-4 mb-4">
                        <span class="serif-font text-3xl font-bold text-[#1A1A1A]">${ini.substring(0,2).toUpperCase()}.</span>
                        <div class="flex-1 border-b border-black/5 pb-2">
                            <div class="flex justify-between items-center">
                                <span class="text-[10px] tracking-[0.2em] uppercase text-[#999] font-bold">${curRole} <span class="mx-2 text-[#DDD]">|</span> ${loc}</span>
                                <span class="text-[9px] tracking-[0.2em] uppercase text-[#C04A3A] serif-font italic font-bold">${vibe}</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-[16px] leading-8 text-[#444] font-medium tracking-tight">${txt}</p>
                </div>
            `;
            document.getElementById('feed').insertAdjacentHTML('afterbegin', html);

            try { await fetch(`https://formspree.io/f/${FORMSPREE_ID}`, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ role: curRole, initial: ini, location: loc, message: txt, vibe: vibe }) }); } catch (e) {}
            input.value = ''; sendBtn.disabled = false;
        }
    </script>
</body>
</html>
