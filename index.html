<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KOH JAEIN | The Private Archive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 명품관 느낌을 위한 최고급 세리프(바탕체 계열) & 산세리프(고딕 계열) 조합 */
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&display=swap');
        
        :root {
            --bg-color: #F9F8F4; /* 아주 미세한 크림톤이 도는 따뜻한 화이트 */
            --text-main: #1A1A1A; /* 완전 블랙보다 고급스러운 차콜 블랙 */
            --text-sub: #666055; /* 따뜻한 그레이 */
            --accent-color: #C04A3A; /* 포인트: 톤다운된 고급스러운 테라코타 레드 */
            --border-color: rgba(0,0,0,0.06);
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0; padding: 0; 
            -webkit-font-smoothing: antialiased;
            /* 고급스러운 종이 질감 오버레이 */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
        }

        h1, h2, .serif-font { font-family: 'Cinzel', serif; }

        /* 에디토리얼 스타일 카드 */
        .editorial-card { 
            background: #FFFFFF;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 20px rgba(0,0,0,0.02); /* 그림자가 있는 듯 없는 듯 아주 미세하게 */
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* 우아한 등장 애니메이션 */
        .log-card { animation: slideUpElegant 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards; opacity: 0; }
        @keyframes slideUpElegant { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

        input:focus { outline: none; }
        #main-content.hidden { display: none; }
    </style>
</head>
<body class="overflow-hidden">

    <div id="pin-gate" class="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-[#F9F8F4] px-12 text-center">
        <div class="w-full max-w-[280px] border-t border-b border-black/10 py-12 relative">
             <span class="absolute top-[-10px] left-1/2 -translate-x-1/2 bg-[#F9F8F4] px-4 text-[10px] tracking-[0.3em] text-[#666055] serif-font">THE PRIVATE LOG</span>
            <h2 class="serif-font text-3xl text-[#1A1A1A] mb-8 tracking-wide">KOH JAEIN</h2>
            <p class="text-[#666055] text-sm font-light mb-12 tracking-widest leading-relaxed">Access is restricted.<br>Identify yourself.</p>
            <input type="password" id="pin" maxlength="4" 
                class="bg-transparent text-center serif-font text-4xl w-32 py-2 outline-none tracking-[0.8em] border-b border-black/20 focus:border-[#C04A3A] transition-all text-[#1A1A1A] mb-12" 
                placeholder="••••">
            <button onclick="unlock()" class="text-[11px] uppercase tracking-[0.4em] text-[#1A1A1A] border border-black/20 px-8 py-4 hover:bg-[#1A1A1A] hover:text-white transition-all duration-500">Enter Archive</button>
        </div>
    </div>

    <div id="main-content" class="hidden h-screen max-w-md mx-auto flex flex-col relative overflow-hidden bg-white/50">
        
        <header class="relative z-10 p-8 pt-16 pb-10">
            <div class="border-b border-black/5 pb-6 mb-8">
                <p class="text-[10px] tracking-[0.4em] text-[#C04A3A] uppercase mb-4 serif-font font-bold">Curated Field Notes</p>
                <h1 class="serif-font text-5xl text-[#1A1A1A] leading-none">The Archive<br><span class="text-3xl ml-1">of Koh Jaein.</span></h1>
            </div>

            <div class="flex justify-between items-end px-2">
                <div>
                    <p class="text-[9px] uppercase tracking-widest text-[#666055] mb-1">Current Status</p>
                    <div class="flex items-center gap-2">
                        <span class="w-1.5 h-1.5 bg-[#C04A3A] rounded-full relative"><span class="absolute inset-0 rounded-full bg-[#C04A3A] animate-ping opacity-50"></span></span>
                        <span class="text-xs font-medium tracking-widest text-[#1A1A1A] uppercase">Online & Active</span>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-[9px] uppercase tracking-widest text-[#666055] mb-1">Latest Hub</p>
                    <p id="top-hub" class="serif-font text-lg text-[#1A1A1A] italic border-b border-[#C04A3A]/30 inline-block pb-1">Awaiting input...</p>
                </div>
            </div>
        </header>

        <main id="feed" class="relative z-10 flex-1 px-6 space-y-8 pb-64 overflow-y-auto no-scrollbar pt-4">
            </main>

        <footer class="fixed bottom-0 w-full max-w-md z-20 bg-gradient-to-t from-[#F9F8F4] via-[#F9F8F4] to-transparent pt-10 pb-10 px-6">
            <div class="editorial-card rounded-none border-none bg-white shadow-[0_-5px_30px_rgba(0,0,0,0.04)] p-6">
                
                <div class="flex mb-6 border-b border-black/5 pb-4">
                    <button onclick="setRole('PRESS', '#374151', this)" class="role-btn flex-1 text-[10px] tracking-[0.2em] text-[#999] transition-all hover:text-[#1A1A1A] relative top-[1px]">PRESS</button>
                    <span class="text-[#ddd] font-light px-2">|</span>
                    <button onclick="setRole('PARTNER', '#374151', this)" class="role-btn flex-1 text-[10px] tracking-[0.2em] text-[#999] transition-all hover:text-[#1A1A1A] relative top-[1px]">PARTNER</button>
                    <span class="text-[#ddd] font-light px-2">|</span>
                    <button onclick="setRole('TEAM', '#374151', this)" class="role-btn flex-1 text-[10px] tracking-[0.2em] text-[#999] transition-all hover:text-[#1A1A1A] relative top-[1px]">TEAM</button>
                </div>

                <div class="relative flex items-end">
                    <input type="text" id="msg-input" 
                        class="serif-font w-full bg-transparent py-3 pr-12 text-lg text-[#1A1A1A] placeholder-[#999] border-b border-black/10 focus:border-[#C04A3A] transition-all rounded-none"
                        placeholder="이니셜 / 장소 / 내용">
                    <button id="send-btn" onclick="post()" class="absolute right-0 bottom-2 w-8 h-8 flex items-center justify-center hover:opacity-70 transition-all">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#C04A3A" stroke-width="1.5"><path d="M22 2L11 13"/><path d="M22 2L15 22L11 13L2 9L22 2Z"/></svg>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let curRole = ''; const PIN = "2026"; const FORMSPREE_ID = "mgolwdqo"; 

        function unlock() {
            if(document.getElementById('pin').value === PIN) {
                document.getElementById('pin-gate').classList.add('fade-out');
                setTimeout(() => {
                    document.getElementById('pin-gate').style.display = 'none';
                    document.getElementById('main-content').classList.remove('hidden');
                }, 500);
            } else { alert('인증에 실패했습니다.'); document.getElementById('pin').value = ''; }
        }

        function setRole(role, color, elem) {
            curRole = role;
            document.querySelectorAll('.role-btn').forEach(b => {
                b.style.color = '#999'; b.style.fontWeight = 'normal'; b.classList.remove('active-role');
            });
            elem.style.color = '#1A1A1A'; elem.style.fontWeight = 'bold'; elem.classList.add('active-role');
        }

        function getTimeVibe() {
            if (curRole === 'TEAM') return "Always Connected";
            const h = new Date().getHours();
            if(h >= 11 && h <= 14) return "Midday Session";
            if(h >= 17 && h <= 22) return "Evening Dialogue";
            return "Field Record";
        }

        async function post() {
            const input = document.getElementById('msg-input');
            if(!input.value || !curRole) return alert('그룹 선택과 내용을 확인해주세요.');
            const [ini, loc, txt] = input.value.split('/').map(s => s?.trim());
            if(!txt) return alert('이니셜/장소/메시지 형식을 지켜주세요.');

            const vibe = getTimeVibe();
            const sendBtn = document.getElementById('send-btn');
            sendBtn.disabled = true;

            // 에디토리얼 스타일 로그 카드
            const html = `
                <div class="log-card relative pl-8 before:content-[''] before:absolute before:left-0 before:top-2 before:w-[1px] before:h-12 before:bg-[#C04A3A]/40">
                    <div class="flex items-baseline gap-3 mb-3">
                        <span class="serif-font text-2xl font-bold text-[#1A1A1A]">${ini.substring(0,2).toUpperCase()}.</span>
                        <div class="flex-1 border-b border-black/5 pb-2">
                            <div class="flex justify-between items-center">
                                <span class="text-[9px] tracking-[0.2em] uppercase text-[#666055]">${curRole} <span class="mx-1 text-[#ddd]">|</span> ${loc}</span>
                                <span class="text-[8px] tracking-[0.2em] uppercase text-[#C04A3A] serif-font italic">${vibe}</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-[15px] leading-7 text-[#333] font-light">${txt}</p>
                </div>
            `;
            document.getElementById('feed').insertAdjacentHTML('afterbegin', html);
            document.getElementById('top-hub').innerText = loc;

            try { await fetch(`https://formspree.io/f/${FORMSPREE_ID}`, { method: 'POST', body: JSON.stringify({ role: curRole, initial: ini, location: loc, message: txt, vibe: vibe }) }); } catch (e) {}
            input.value = ''; sendBtn.disabled = false;
        }
    </script>
    <style>
        /* 추가적인 디테일 스타일 */
        .fade-out { opacity: 0; transition: opacity 0.5s ease; }
        .active-role { border-bottom: 1px solid #1A1A1A; }
    </style>
</body>
</html>
